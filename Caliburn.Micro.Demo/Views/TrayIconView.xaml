<UserControl x:Class="Caliburn.Micro.Demo.Views.TrayIconView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:tb="http://www.hardcodet.net/taskbar"
			xmlns:local="clr-namespace:Caliburn.Micro.Demo"
			xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity" 
            xmlns:cal="http://www.caliburnproject.org">
	<UserControl.Resources>
		<tb:TaskbarIcon x:Key="SystemTrayIcon" x:Name="TrayIcon" IconSource="/Resources/icon.ico" ToolTipText="Demo"
			cal:Message.Attach="[Event TrayLeftMouseDown] = [Action ShowSomething()]">
			<i:Interaction.Triggers>
				<local:RoutedEventTrigger RoutedEvent="tb:TaskbarIcon.TrayLeftMouseDown">
					<cal:ActionMessage MethodName="ShowSomething"/>
				</local:RoutedEventTrigger>
			</i:Interaction.Triggers>
			<tb:TaskbarIcon.ContextMenu>
				<ContextMenu>
					<MenuItem Header="Update" cal:Message.Attach="Update" />
					<MenuItem Header="Configure..." cal:Message.Attach="Configure" />
					<Separator/>
					<MenuItem Header="Exit" cal:Message.Attach="Exit"/>
				</ContextMenu>
			</tb:TaskbarIcon.ContextMenu>
		</tb:TaskbarIcon>
	</UserControl.Resources>

</UserControl>
